<!DOCTYPE html>
<html>

<head>
	<title>DJU Printer</title>
	<link rel="icon" href="favicon.ico" type="image/ico">
	<meta charset="utf-8">
	<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=o4tn68jcjx">
	</script>
	<style>
		html,
		body {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
		}

		#map {
			width: 100%;
			height: 100%;
		}

		.iw_inner {
			width: auto;
			height: auto;
			font-size: xx-large;

			opacity: 0;
			transform: translateY(-20px);
			animation: fadeInAndMove 0.5s forwards;
		}

		@keyframes fadeInAndMove {
			100% {
				opacity: 1;
				transform: translateY(0);
			}
		}
	</style>
</head>

<body>
	<div id="map"></div>

	<script>
		var mapOptions = {
			center: new naver.maps.LatLng(37.872, 127.1575),
			zoom: 17,
			minZoom: 15,
			maxZoom: 20
		};

		var map = new naver.maps.Map('map', mapOptions);

		var southWest = new naver.maps.LatLng(37.864, 127.149);
		var northEast = new naver.maps.LatLng(37.88, 127.165);
		var bounds = new naver.maps.LatLngBounds(southWest, northEast);

		naver.maps.Event.addListener(map, 'dragend', function () {
			if (!bounds.hasLatLng(map.getCenter())) {
				map.panTo(bounds.getCenter());
			}
		});


		var markerData = [
			{
				position: new naver.maps.LatLng(37.87126827034607, 127.15525516151271),
				title: "학생회관",
				description: "학생회관입니다. 프린터기 위치 1층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			},
			{
				position: new naver.maps.LatLng(37.87184322048491, 127.15650657868743),
				title: "인문학관",
				description: "인문학관입니다. 프린터기 위치 1층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			},
			{
				position: new naver.maps.LatLng(37.87297713570028, 127.15577304674159),
				title: "정보전산원",
				description: "정보전산원입니다. 프린터기 위치 1층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			},
			{
				position: new naver.maps.LatLng(37.873437623036054, 127.15501250799883),
				title: "중앙도서관",
				description: "중앙도서관입니다. 프린터기 위치 1, 2, 3, 4층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			},
			{
				position: new naver.maps.LatLng(37.87520812046444, 127.15996329909976),
				title: "예술관",
				description: "예술관입니다. 프린터기 위치 1층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			},
			{
				position: new naver.maps.LatLng(37.87023227672697, 127.15688106734378),
				title: "대학원",
				description: "대학원입니다. 프린터기 위치 1층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			},
			{
				position: new naver.maps.LatLng( 37.869110939247896, 127.1566229743098),
				title: "여자기숙사",
				description: "여자기숙사입니다. 프린터기 위치 1층 . . .<br>"
					+ "설명설명주저리주저리 . . .  <br><br>"
					+ "<a href='http://www.naver.com'>링크예시</a>"
			}
		];

		var HOME_PATH = window.HOME_PATH || '.';
		for (var i = 0; i < markerData.length; i++) {
			var marker = new naver.maps.Marker({
				position: markerData[i].position,
				map: map,
				icon: {
					url: HOME_PATH + '/img/printer.png',
					size: new naver.maps.Size(100, 100),
					scaledSize: new naver.maps.Size(50, 50),
					origin: new naver.maps.Point(0, 0),
					anchor: new naver.maps.Point(25, 25)
				}
			});
			naver.maps.Event.addListener(marker, "click", getMarkerClickListener(map, marker, markerData[i].title, markerData[i].description));
		}

		function getMarkerClickListener(map, marker, title, description) {
			return function (e) {
				var contentString = [
					'<div class="iw_inner" style="padding: 5px 20px">',
					'<h3>' + title + '</h3>',
					'<p>' + description + '</p>',
					'</div>'
				].join('');
				var infowindow = new naver.maps.InfoWindow({
					content: contentString
				});

				if (infowindow.getMap()) {
					infowindow.close();
				} else {
					infowindow.open(map, marker);
				}
			};
		}

		var currentInfoWindow = null;
		function getMarkerClickListener(map, marker, title, description) {
			return function (e) {
				var contentString = [
					'<div class="iw_inner" style="padding: 5px 20px">',
					'<h3>' + title + '</h3>',
					'<p>' + description + '</p>',
					'</div>'
				].join('');
				var infowindow = new naver.maps.InfoWindow({
					content: contentString
				});

				if (currentInfoWindow) {
					currentInfoWindow.close();
				}

				currentInfoWindow = infowindow;

				infowindow.open(map, marker);
			};
		}

		naver.maps.Event.addListener(map, 'click', function () {
			if (currentInfoWindow) {
				currentInfoWindow.close();
				currentInfoWindow = null;
			}
		});
	</script>
</body>

</html>